= Installing LiveXBMC =

This one is dirt simple. LiveXBMC is installed by extracting the contents of the disk image that would be created for tradition PC hardware. Follow the guide to create a [LinuxUSBPenBoot USB flash drive with atv-bootloader]. This flash drive needs to be 512MB or larger. Add a second ext3 partition to hold LiveXBMC, see [ATVBackup AppleTV backup guide] for reference. Now let's add LiveXBMC to the flash drive. If the USB flash drive auto-mounts, umount it as we will explicitly mount it with this guide

Download the compressed disk image and the update
{{{
wget http://superb-east.dl.sourceforge.net/sourceforge/xbmc/LiveXBMCV2.12835.7z
wget http://superb-east.dl.sourceforge.net/sourceforge/xbmc/xbmc.12869.img.7z
}}}

Decompress both to extract the disk images
{{{
sudo apt-get install p7zip-full

7z x LiveXBMCV2.12835.7z
7z x xbmc.12869.img.7z
}}}


Make some mount points. Mount the USB flash drive partitions and the base xbmc disk image so we can get to the contents. Then copy the base xbmc contents to second partiton of the USB flash drive. Remeber to replace "sdX" below with your device notation.
{{{
mkdir penboot penflash xbmc

sudo mount /dev/sdX1 penboot
sudo mount /dev/sdX2 penflash

sudo mount -o loop LiveXBMCV2.12835.img xbmc

sudo cp -arp xbmc/* penflash/
sync
}}}

Update the base image.
{{{
sudo cp -arp xbmc.12869.img penflash/xbmc.img
sync
}}}

Create a custom "boot_linux.sh" that will be used to boot LiveXBMC. Edit "penboot/boot_linux.sh" and change it to the following
{{{
#!/bin/bash

mkdir /xbmc
mount /dev/sdb2 /xbmc

kexec --load /xbmc/vmlinuz \
--initrd=/xbmc/initrd0.img \
--command-line="initrd=initrd0.img boot=usb video=vesafb" 

kexec -e
}}}

Edit "penboot/com.apple.Boot.plist" on the first partition of the USB flash disk and change the atv-boot parameter to "manual"
{{{
<string>atv-boot= manual video=vesafb</string>
}}}

Clean up
{{{
sudo umount penboot penflash xbmc
rmdir penboot penflash xbmc
}}}

Done.

= Usage =

Boot the AppleTV using the USB flash disk. Remember you have to force a "Recovery Boot" by holding "menu" and "-" buttons down on the Apple IR remote either during power-up or when the AppleTV OS is running. 

You should see the kernel boot messages, then LiveXBMC booting.

Enjoy.

= Post Boot Fixes =

apt-get install ssh-server


startx

Reset Appearance to 1280x720
